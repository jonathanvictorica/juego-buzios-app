/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package com.jmg.buzios.view.islas;

import com.jmg.buzios.controller.edificio.ConstruirEdificio;
import com.jmg.buzios.controller.puerto.EnviarRecurso;
import com.jmg.buzios.model.ciudad.Ciudad;
import com.jmg.buzios.model.isla.Recurso;
import com.jmg.buzios.view.ciudad.VCiudad;

import javax.swing.*;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

/**
 * @author Alumno
 */
public class VEnviarRecurso extends javax.swing.JFrame {
    private Ciudad ciudadsalida;
    private Ciudad ciudadllegada;


    private VCiudad vciudad;
    /**
     * @param args the command line arguments
     */

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JSlider barraAzufre;
    private javax.swing.JSlider barraCristal;
    private javax.swing.JSlider barraMarmol;
    private javax.swing.JSlider barraVino;
    private javax.swing.JSlider barramadera;
    private javax.swing.JButton cmdEnviarRecursos;
    private org.edisoncor.gui.panel.PanelImage imageMarmol;
    private org.edisoncor.gui.panel.PanelImage imagenAzufre;
    private org.edisoncor.gui.panel.PanelImage imagenCristal;
    private org.edisoncor.gui.panel.PanelImage imagenMadera;
    private org.edisoncor.gui.panel.PanelImage imagenVino;
    private org.edisoncor.gui.panel.PanelImage panelImage1;
    private javax.swing.JTextField txtAzufre;
    private javax.swing.JTextField txtCristal;
    private javax.swing.JTextField txtMadera;
    private javax.swing.JTextField txtMarmol;
    private javax.swing.JTextField txtVino;
    public VEnviarRecurso(Ciudad ciudadsalida, Ciudad ciudadllegada) {
        this.ciudadsalida = ciudadsalida;
        this.ciudadllegada = ciudadllegada;
        initComponents();
        this.inicializar_barras();
        this.setLocationRelativeTo(null);
        this.show();
    }

    public void setVciudad(VCiudad vciudad) {
        this.vciudad = vciudad;
    }

    private void inicializar_barras() {
        for (int i = 0; i < this.ciudadsalida.getCiudadrecurso().getRecurso().size(); i++) {
            switch (this.ciudadsalida.getCiudadrecurso().getRecurso().get(i).getNombrerecurso()) {
                case "Madera":

                    this.barramadera.setEnabled(true);
                    this.txtMadera.setEnabled(true);
                    this.txtMadera.setText("0");
                    this.barramadera.setMaximum(this.ciudadsalida.getCiudadrecurso().getCantidad().get(i).intValue());

                    break;
                case "Marmol":
                    this.barraMarmol.setEnabled(true);
                    this.txtMarmol.setEnabled(true);
                    this.txtMarmol.setText("0");
                    this.barraMarmol.setMaximum(this.ciudadsalida.getCiudadrecurso().getCantidad().get(i).intValue());

                    break;
                case "Vino":
                    this.barraVino.setEnabled(true);
                    this.txtVino.setEnabled(true);
                    this.txtVino.setText("0");
                    this.barraVino.setMaximum(this.ciudadsalida.getCiudadrecurso().getCantidad().get(i).intValue());

                    break;
                case "Cristal":
                    this.barraCristal.setEnabled(true);
                    this.txtCristal.setEnabled(true);
                    this.txtCristal.setText("0");
                    this.barraCristal.setMaximum(this.ciudadsalida.getCiudadrecurso().getCantidad().get(i).intValue());

                    break;
                case "Azufre":
                    this.barraAzufre.setEnabled(true);
                    this.txtAzufre.setEnabled(true);
                    this.txtAzufre.setText("0");
                    this.barraAzufre.setMaximum(this.ciudadsalida.getCiudadrecurso().getCantidad().get(i).intValue());

                    break;
            }
        }
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panelImage1 = new org.edisoncor.gui.panel.PanelImage();
        barraMarmol = new javax.swing.JSlider();
        barramadera = new javax.swing.JSlider();
        barraVino = new javax.swing.JSlider();
        barraAzufre = new javax.swing.JSlider();
        barraCristal = new javax.swing.JSlider();
        txtMadera = new javax.swing.JTextField();
        txtMarmol = new javax.swing.JTextField();
        txtVino = new javax.swing.JTextField();
        txtCristal = new javax.swing.JTextField();
        txtAzufre = new javax.swing.JTextField();
        cmdEnviarRecursos = new javax.swing.JButton();
        imagenMadera = new org.edisoncor.gui.panel.PanelImage();
        imageMarmol = new org.edisoncor.gui.panel.PanelImage();
        imagenVino = new org.edisoncor.gui.panel.PanelImage();
        imagenCristal = new org.edisoncor.gui.panel.PanelImage();
        imagenAzufre = new org.edisoncor.gui.panel.PanelImage();

        panelImage1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/IMAGEN/backg-2-330-260.png"))); // NOI18N

        barraMarmol.setValue(0);
        barraMarmol.setEnabled(false);
        barraMarmol.setOpaque(false);
        barraMarmol.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                barraMarmolStateChanged(evt);
            }
        });

        barramadera.setValue(0);
        barramadera.setEnabled(false);
        barramadera.setOpaque(false);
        barramadera.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                barramaderaStateChanged(evt);
            }
        });

        barraVino.setValue(0);
        barraVino.setEnabled(false);
        barraVino.setOpaque(false);
        barraVino.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                barraVinoStateChanged(evt);
            }
        });

        barraAzufre.setValue(0);
        barraAzufre.setEnabled(false);
        barraAzufre.setOpaque(false);
        barraAzufre.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                barraAzufreStateChanged(evt);
            }
        });

        barraCristal.setValue(0);
        barraCristal.setEnabled(false);
        barraCristal.setOpaque(false);
        barraCristal.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                barraCristalStateChanged(evt);
            }
        });

        txtMadera.setEditable(false);
        txtMadera.setEnabled(false);
        txtMadera.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtMaderaKeyReleased(evt);
            }
        });

        txtMarmol.setEditable(false);
        txtMarmol.setEnabled(false);
        txtMarmol.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtMarmolKeyReleased(evt);
            }
        });

        txtVino.setEditable(false);
        txtVino.setEnabled(false);
        txtVino.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtVinoKeyReleased(evt);
            }
        });

        txtCristal.setEditable(false);
        txtCristal.setEnabled(false);
        txtCristal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtCristalKeyReleased(evt);
            }
        });

        txtAzufre.setEditable(false);
        txtAzufre.setEnabled(false);
        txtAzufre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtAzufreKeyReleased(evt);
            }
        });

        cmdEnviarRecursos.setText("Enviar Recursos");
        cmdEnviarRecursos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdEnviarRecursosActionPerformed(evt);
            }
        });

        imagenMadera.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        imagenMadera.setIcon(new javax.swing.ImageIcon(getClass().getResource("/IMAGEN/Maderadeedificionivel.jpg"))); // NOI18N

        javax.swing.GroupLayout imagenMaderaLayout = new javax.swing.GroupLayout(imagenMadera);
        imagenMadera.setLayout(imagenMaderaLayout);
        imagenMaderaLayout.setHorizontalGroup(
                imagenMaderaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 27, Short.MAX_VALUE)
        );
        imagenMaderaLayout.setVerticalGroup(
                imagenMaderaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 23, Short.MAX_VALUE)
        );

        imageMarmol.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        imageMarmol.setIcon(new javax.swing.ImageIcon(getClass().getResource("/IMAGEN/Marmoldeedificionivel.jpg"))); // NOI18N

        javax.swing.GroupLayout imageMarmolLayout = new javax.swing.GroupLayout(imageMarmol);
        imageMarmol.setLayout(imageMarmolLayout);
        imageMarmolLayout.setHorizontalGroup(
                imageMarmolLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 27, Short.MAX_VALUE)
        );
        imageMarmolLayout.setVerticalGroup(
                imageMarmolLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 23, Short.MAX_VALUE)
        );

        imagenVino.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        imagenVino.setIcon(new javax.swing.ImageIcon(getClass().getResource("/IMAGEN/VinoImg.png"))); // NOI18N

        javax.swing.GroupLayout imagenVinoLayout = new javax.swing.GroupLayout(imagenVino);
        imagenVino.setLayout(imagenVinoLayout);
        imagenVinoLayout.setHorizontalGroup(
                imagenVinoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 27, Short.MAX_VALUE)
        );
        imagenVinoLayout.setVerticalGroup(
                imagenVinoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 23, Short.MAX_VALUE)
        );

        imagenCristal.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        imagenCristal.setIcon(new javax.swing.ImageIcon(getClass().getResource("/IMAGEN/Cristaldeedificionivel.jpg"))); // NOI18N

        javax.swing.GroupLayout imagenCristalLayout = new javax.swing.GroupLayout(imagenCristal);
        imagenCristal.setLayout(imagenCristalLayout);
        imagenCristalLayout.setHorizontalGroup(
                imagenCristalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 27, Short.MAX_VALUE)
        );
        imagenCristalLayout.setVerticalGroup(
                imagenCristalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 23, Short.MAX_VALUE)
        );

        imagenAzufre.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        imagenAzufre.setIcon(new javax.swing.ImageIcon(getClass().getResource("/IMAGEN/Azufredeedificionivel.jpg"))); // NOI18N

        javax.swing.GroupLayout imagenAzufreLayout = new javax.swing.GroupLayout(imagenAzufre);
        imagenAzufre.setLayout(imagenAzufreLayout);
        imagenAzufreLayout.setHorizontalGroup(
                imagenAzufreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 27, Short.MAX_VALUE)
        );
        imagenAzufreLayout.setVerticalGroup(
                imagenAzufreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 23, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout panelImage1Layout = new javax.swing.GroupLayout(panelImage1);
        panelImage1.setLayout(panelImage1Layout);
        panelImage1Layout.setHorizontalGroup(
                panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(panelImage1Layout.createSequentialGroup()
                                .addGap(42, 42, 42)
                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(imagenMadera, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(imageMarmol, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(imagenVino, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(imagenCristal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(imagenAzufre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addComponent(barraAzufre, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(txtAzufre, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addComponent(barramadera, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(txtMadera, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addComponent(barraVino, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(txtVino, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addComponent(barraMarmol, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(txtMarmol, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addComponent(barraCristal, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                                .addGap(72, 72, 72)
                                                                .addComponent(cmdEnviarRecursos, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(txtCristal, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addContainerGap(33, Short.MAX_VALUE))
        );
        panelImage1Layout.setVerticalGroup(
                panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(panelImage1Layout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                .addComponent(barramadera, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addComponent(txtMadera))
                                        .addComponent(imagenMadera, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addGap(11, 11, 11)
                                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                                .addComponent(barraMarmol, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                                .addComponent(txtMarmol)
                                                                .addGap(9, 9, 9))))
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addComponent(imageMarmol, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(6, 6, 6)))
                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addComponent(txtVino)
                                                .addGap(9, 9, 9))
                                        .addGroup(panelImage1Layout.createSequentialGroup()
                                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                        .addComponent(imagenVino, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addComponent(barraVino, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(imagenCristal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(txtAzufre)
                                                .addComponent(barraAzufre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(panelImage1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(imagenAzufre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(txtCristal, javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(barraCristal, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addComponent(cmdEnviarRecursos)
                                .addContainerGap(13, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(panelImage1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                                .addComponent(panelImage1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void txtMaderaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtMaderaKeyReleased
        try {
            if (Integer.parseInt(this.txtMadera.getText()) <= this.barramadera.getMaximum()) {
                this.barramadera.setValue(Integer.parseInt(this.txtMadera.getText()));

            } else {
                this.txtMadera.setText("" + this.barramadera.getMaximum());
                this.barramadera.setValue(this.barramadera.getMaximum());
            }

        } catch (NumberFormatException j) {
            this.txtMadera.setText("" + this.barramadera.getValue());
        }
    }//GEN-LAST:event_txtMaderaKeyReleased

    private void txtMarmolKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtMarmolKeyReleased
        try {
            if (Integer.parseInt(this.txtMarmol.getText()) <= this.barraMarmol.getMaximum()) {
                this.barraMarmol.setValue(Integer.parseInt(this.txtMarmol.getText()));

            } else {
                this.txtMarmol.setText("" + this.barraMarmol.getMaximum());
                this.barraMarmol.setValue(this.barraMarmol.getMaximum());
            }

        } catch (NumberFormatException j) {
            this.txtMarmol.setText("" + this.barraMarmol.getValue());
        }
    }//GEN-LAST:event_txtMarmolKeyReleased

    private void txtVinoKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtVinoKeyReleased
        try {
            if (Integer.parseInt(this.txtVino.getText()) <= this.barraVino.getMaximum()) {
                this.barraVino.setValue(Integer.parseInt(this.txtVino.getText()));

            } else {
                this.txtVino.setText("" + this.barraVino.getMaximum());
                this.barraVino.setValue(this.barraVino.getMaximum());
            }

        } catch (NumberFormatException j) {
            this.txtVino.setText("" + this.barraVino.getValue());
        }
    }//GEN-LAST:event_txtVinoKeyReleased

    private void txtCristalKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCristalKeyReleased
        try {
            if (Integer.parseInt(this.txtCristal.getText()) <= this.barraCristal.getMaximum()) {
                this.barraCristal.setValue(Integer.parseInt(this.txtCristal.getText()));

            } else {
                this.txtCristal.setText("" + this.barraCristal.getMaximum());
                this.barraCristal.setValue(this.barraCristal.getMaximum());
            }

        } catch (NumberFormatException j) {
            this.txtCristal.setText("" + this.barraCristal.getValue());
        }
    }//GEN-LAST:event_txtCristalKeyReleased

    private void txtAzufreKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtAzufreKeyReleased
        try {
            if (Integer.parseInt(this.txtAzufre.getText()) <= this.barraAzufre.getMaximum()) {
                this.barraAzufre.setValue(Integer.parseInt(this.txtAzufre.getText()));

            } else {
                this.txtAzufre.setText("" + this.barraAzufre.getMaximum());
                this.barraAzufre.setValue(this.barraAzufre.getMaximum());
            }

        } catch (NumberFormatException j) {
            this.txtAzufre.setText("" + this.barraAzufre.getValue());
        }
    }//GEN-LAST:event_txtAzufreKeyReleased

    private void cmdEnviarRecursosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdEnviarRecursosActionPerformed
        try {
            List<Recurso> recursos = new ArrayList<>();
            List<Integer> cantidad = new ArrayList<>();

            if (!"".equals(this.txtMadera.getText())) {
                recursos.add(new Recurso("Madera"));
                cantidad.add(Integer.parseInt(this.txtMadera.getText()));
            }
            if (!"".equals(this.txtVino.getText())) {
                recursos.add(new Recurso("Vino"));
                cantidad.add(Integer.parseInt(this.txtVino.getText()));
            }
            if (!"".equals(this.txtMarmol.getText())) {
                recursos.add(new Recurso("Marmol"));
                cantidad.add(Integer.parseInt(this.txtMarmol.getText()));
            }
            if (!"".equals(this.txtCristal.getText())) {
                recursos.add(new Recurso("Cristal"));
                cantidad.add(Integer.parseInt(this.txtCristal.getText()));
            }
            if (!"".equals(this.txtAzufre.getText())) {
                recursos.add(new Recurso("Azufre"));
                cantidad.add(Integer.parseInt(this.txtAzufre.getText()));
            }

            int cantidadacumulada = 0;
            for (int i = 0; i < cantidad.size(); i++) {
                cantidadacumulada += cantidad.get(i);
            }

            if (cantidadacumulada > 0) {

                EnviarRecurso enviarrecurso = new EnviarRecurso(recursos, cantidad, this.ciudadsalida, this.ciudadllegada);
                enviarrecurso.CUEnviarrecurso();
                if (vciudad != null) {
                    ConstruirEdificio.actualizarinterfazgrafica(vciudad);
                }
                this.hide();

            } else {
                JOptionPane.showMessageDialog(panelImage1, "Debes elegir que cantidad de recursos enviar a esta ciudad.");
            }


        } catch (SQLException ex) {

        }


    }//GEN-LAST:event_cmdEnviarRecursosActionPerformed

    private void barramaderaStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_barramaderaStateChanged
        this.txtMadera.setText("" + this.barramadera.getValue());
        this.repaint();
    }//GEN-LAST:event_barramaderaStateChanged

    private void barraMarmolStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_barraMarmolStateChanged
        this.txtMarmol.setText("" + this.barraMarmol.getValue());
        this.repaint();
    }//GEN-LAST:event_barraMarmolStateChanged

    private void barraVinoStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_barraVinoStateChanged
        this.txtVino.setText("" + this.barraVino.getValue());
        this.repaint();
    }//GEN-LAST:event_barraVinoStateChanged

    private void barraAzufreStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_barraAzufreStateChanged
        this.txtAzufre.setText("" + this.barraAzufre.getValue());
        this.repaint();
    }//GEN-LAST:event_barraAzufreStateChanged

    private void barraCristalStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_barraCristalStateChanged
        this.txtCristal.setText("" + this.barraCristal.getValue());
        this.repaint();
    }//GEN-LAST:event_barraCristalStateChanged
    // End of variables declaration//GEN-END:variables
}
